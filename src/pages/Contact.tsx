import { useState } from 'react';
import emailjs from '@emailjs/browser';

interface FormData {
  [key: string]: unknown,
  user_name: string,
  user_email: string,
  message: string
}

export const Contact = () => {
  const emptyFormData = {
    user_name: "",
    user_email: "",
    message: ""
  }
  const [formData, setFormData] = useState<FormData>(emptyFormData);

  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
    const { name, value } = e.target;
    setFormData((prevState) => ({
      ...prevState,
      [name]: value
    }));
  }

  const sendEmail = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();

    if (formData) {
      emailjs
        .send('mara_gmail_service', 'template_contact', formData, {
          publicKey: 'AHTWSrXtMDh3c-7YM',
        })
        .then(
          () => setFormData(emptyFormData)
        );
    }

  };

  return (
    <div className='flex flex-col md:flex-row gap-y-5 md:gap-x-24 mt-10 md:ms-10 text-light-gray-text'>
        <div id='form' className='p-5 md:p-0 md:w-1/2'>
          <p className='mb-5'>You can send me an email through this contact form:</p>
          <form className='flex flex-col gap-y-5 ' onSubmit={sendEmail}>
            <input
              type="text"
              name="user_name"
              value={formData.user_name}
              onChange={(e) => handleInputChange(e)}
              className='h-12 border-2 border-dusty-pink text-dark-dusty-pink ps-5'
              placeholder='Your name' />
            <input
              type="email"
              name="user_email"
              onChange={(e) => handleInputChange(e)}
              value={formData.user_email}
              className='h-12 border-2 border-dusty-pink text-dark-dusty-pink ps-5'
              placeholder='Your email' />
            <textarea
              name="message"
              value={formData.message}
              onChange={(e) => handleInputChange(e)}
              className='h-60 border-2 resize-none border-dusty-pink text-dark-dusty-pink pt-3 ps-5'
              placeholder='Your message' />
            <div className='flex justify-center'>
              <button
                type="submit"
                className='w-60 h-12 border-2 border-dusty-pink text-dusty-pink font-bold text-xl 
              hover:bg-dusty-pink hover:text-gray-background transition-all duration-150'>
                SEND
              </button>
            </div>
          </form>
        </div>
        <div className='md:w-1/4 p-5 md:p-0 flex flex-col gap-y-5 items-center'>
          <p>Or reach me at my work email:</p>
          <a
            href='mailto:mara.scampini@gmail.com'
            className='text-dusty-pink hover:underline hover:cursor-pointer'>
            mara.scampini@gmail.com
          </a>

          <div className='flex gap-x-5 justify-center'>
            <a href="https://github.com/MaraScampini" target='_blank'>
              <svg viewBox="-0.5 -0.5 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" id="Github--Streamline-Unicons" height={30} width={30} ><desc>{"Github Streamline Icon: https://streamlinehq.com"}</desc><path d="M7.4999375 0.331375c-1.7452500000000002 0.0000625 -3.4335625 0.6211875 -4.7627500000000005 1.752125C1.4079375 3.2144375 0.5245 4.7815 0.24493750000000003 6.504250000000001c-0.2795625 1.7226875 0.063 3.4886875 0.966375 4.981999999999999 0.9033125 1.4931875 2.3085625000000003 2.6163125 3.9642500000000003 3.1683125 0.3675 0.06431250000000001 0.5053125 -0.1561875 0.5053125 -0.349125 0 -0.1745625 -0.0091875 -0.753375 -0.0091875 -1.3689375000000001 -1.8466874999999998 0.3399375 -2.3244375 -0.450125 -2.4714375 -0.8635625 -0.16312500000000002 -0.4020625 -0.4216875 -0.758375 -0.753375 -1.0381875 -0.25725000000000003 -0.1378125 -0.62475 -0.47775 -0.0091875 -0.4869375 0.2350625 0.025500000000000002 0.4604375 0.10731249999999999 0.6571875 0.2384375 0.1966875 0.131125 0.3589375 0.3078125 0.47287500000000005 0.5149374999999999 0.1005 0.1805625 0.2356875 0.3395625 0.39775 0.4678125 0.1620625 0.12825 0.347875 0.2233125 0.5467500000000001 0.2795625 0.198875 0.0563125 0.406875 0.072875 0.612125 0.048687499999999995s0.40375 -0.08862500000000001 0.584 -0.1896875c0.0318125 -0.3736875 0.19837500000000002 -0.7230625 0.468625 -0.9830625 -1.635375 -0.18375 -3.3442499999999997 -0.8176875 -3.3442499999999997 -3.6290625 -0.0103125 -0.7304375000000001 0.2591875 -1.4371875 0.753375 -1.97525 -0.22468749999999998 -0.6348750000000001 -0.1984375 -1.3316249999999998 0.0735 -1.94775 0 0 0.6155 -0.19293749999999998 2.02125 0.753375 1.2026249999999998 -0.33075 2.47225 -0.33075 3.6749375 0 1.4056875 -0.9555 2.02125 -0.753375 2.02125 -0.753375 0.2719375 0.616125 0.29825 1.312875 0.0735 1.94775 0.4955625 0.5371250000000001 0.7654375 1.2445625 0.753375 1.97525 0 2.8205625000000003 -1.7180624999999998 3.4453125 -3.3534375 3.6290625 0.175375 0.17775 0.3104375 0.39125 0.39606250000000004 0.6258125000000001 0.085625 0.2346875 0.11975 0.485 0.1000625 0.7339374999999999 0 0.983125 -0.0091875 1.773125 -0.0091875 2.0211875 0 0.19293749999999998 0.1378125 0.42262500000000003 0.5053125 0.349125 1.6527500000000002 -0.5564375 3.0539375 -1.6821875 3.9534374999999997 -3.1761875 0.8995625 -1.4940624999999998 1.2388124999999999 -3.2591875 0.9573125 -4.98025 -0.28150000000000003 -1.721 -1.1654375 -3.286 -2.494125 -4.4155625C10.93075 0.9529375 9.243875000000001 0.33231249999999996 7.4999375 0.331375Z" fill="#EECAD5" strokeWidth={1} /></svg>
            </a>
            <a href="https://www.linkedin.com/in/mara-scampini/" target='_blank'>
              <svg viewBox="-0.5 -0.5 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" id="Linkedin--Streamline-Unicons" height={30} width={30} ><desc>{"Linkedin Streamline Icon: https://streamlinehq.com"}</desc><path d="M13.725375 0.150125H1.2746250000000001C1.1346874999999998 0.148125 0.9956875 0.1738125 0.865625 0.2255625 0.735625 0.277375 0.6170625 0.35424999999999995 0.5166875 0.4518125 0.416375 0.5494375 0.33625000000000005 0.6658124999999999 0.2809375 0.7943749999999999c-0.055375 0.1285625 -0.08481249999999999 0.2668125 -0.08675000000000001 0.40675000000000006v12.597750000000001c0.0019375 0.1399375 0.031375 0.2781875 0.08675000000000001 0.40675000000000006s0.1354375 0.24493750000000003 0.23575 0.3425625c0.10037499999999999 0.097625 0.2189375 0.1745 0.3489375 0.22625 0.1300625 0.0518125 0.2690625 0.07743749999999999 0.409 0.0754375h12.45075c0.1399375 0.002 0.2789375 -0.023625 0.4089375 -0.0754375 0.130125 -0.05175 0.24862499999999998 -0.12862500000000002 0.349 -0.22625 0.1003125 -0.097625 0.1804375 -0.21406250000000002 0.23575 -0.3425625 0.055375 -0.1285625 0.08481249999999999 -0.2668125 0.08675000000000001 -0.40675000000000006V1.201125c-0.0019375 -0.1399375 -0.031375 -0.278125 -0.08675000000000001 -0.40675000000000006 -0.0553125 -0.1285625 -0.1354375 -0.24493750000000003 -0.23575 -0.3425625 -0.10037499999999999 -0.0975625 -0.21887500000000001 -0.1745 -0.349 -0.22625 -0.13 -0.05175 -0.269 -0.07743749999999999 -0.4089375 -0.0754375ZM4.6261875 12.453812500000002h-2.205V5.8389375h2.205v6.614875ZM3.5236875000000003 4.9128125c-0.3040625 0 -0.5956874999999999 -0.12075000000000001 -0.81075 -0.3358125 -0.21499999999999997 -0.21499999999999997 -0.3358125 -0.506625 -0.3358125 -0.81075 0 -0.3040625 0.1208125 -0.59575 0.3358125 -0.81075 0.21506250000000002 -0.21506250000000002 0.5066875 -0.3358125 0.81075 -0.3358125 0.1615 -0.0183125 0.325 -0.0023125000000000003 0.47987500000000005 0.0469375 0.15487499999999998 0.049249999999999995 0.2975625 0.1306875 0.41875 0.23893749999999997 0.12125 0.10825 0.2181875 0.240875 0.284625 0.3891875 0.066375 0.1483125 0.10075 0.309 0.10075 0.4715 0 0.1625 -0.034375 0.3231875 -0.10075 0.4715 -0.06643750000000001 0.1483125 -0.16337500000000002 0.2809375 -0.284625 0.3891875 -0.12118749999999999 0.10825 -0.263875 0.1896875 -0.41875 0.23893749999999997 -0.15487499999999998 0.049312499999999995 -0.31837499999999996 0.0653125 -0.47987500000000005 0.047ZM12.578750000000001 12.453812500000002h-2.2049374999999998v-3.55c0 -0.8893125000000001 -0.3160625 -1.4699375000000001 -1.1171875 -1.4699375000000001 -0.2479375 0.0018124999999999999 -0.489375 0.0795625 -0.69175 0.2228125s-0.356 0.34506250000000005 -0.44012500000000004 0.5783125c-0.0575625 0.17275 -0.0825 0.3546875 -0.0735 0.5365v3.675H5.8462499999999995V5.8315625h2.205v0.9334375c0.20025 -0.3475625 0.491625 -0.6339375 0.8425625000000001 -0.8281875 0.3510625 -0.19425 0.748375 -0.2890625 1.1492499999999999 -0.2743125 1.47 0 2.5356875 0.9481249999999999 2.5356875 2.9840625v3.80725Z" fill="#EECAD5" strokeWidth={1} /></svg>
            </a>
          </div>
      </div>
    </div>
  );
};

